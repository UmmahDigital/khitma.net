<div *ngIf="group">




    <app-celebration *ngIf="showCelebration" class="celebration-container"
        style="position: fixed; top: 0; left: 0; right: 0; z-index: 10000; bottom: 0;">
    </app-celebration>


    <header class="dashboard-header">
        <section *ngIf="isAdmin" class="admin-section center-center">
            <mat-icon>verified</mat-icon>

            <span style="margin:0 8px;">
                لديك صلاحيّات مسؤول في هذه المجموعة
            </span>

            <!-- <mat-icon>info</mat-icon> -->
        </section>

        <app-khitma-info [group]="group" [isExpanded]="false"></app-khitma-info>

    </header>

    <section class="khitma-done" *ngIf="group.isDone() > 0">

        <app-khitma-done-celebration></app-khitma-done-celebration>


        <button *ngIf="isAdmin" (click)="startNewKhitmah()" mat-raised-button color="accent"
            class="block large action-btn">بدء
            ختمة
            جديدة للمجموعة</button>

    </section>


    <div class="block" style="margin:32px auto; text-align: center;">


        <div *ngIf="this.group.hasIdleAjza(); else noIdleAjza">
            <span> يمكنك اختيار أي من الأجزاء التي باللون الأحمر</span>
        </div>
        <ng-template #noIdleAjza>
            <span class="large"> جميع الأجزاء في هذه المجموعة محجوزة</span>
        </ng-template>

    </div>


    <section class="juz-grid-section">
        <app-juz-grid class="app-juz-grid1" [ajza]="group.ajza" [myJuzIndex]="myJuzIndex"
            (onJuzSelection)="juzSelected($event)">
        </app-juz-grid>
    </section>

    <div class="space" style="margin-bottom: -16px;"></div>


    <section *ngIf="isAdmin" class="admin-actions">

        <div *ngIf="!nativeApi.isAvailable">

            <button mat-raised-button class="block large" [cdkCopyToClipboard]="statusMsg"
                (cdkCopyToClipboardCopied)="groupStatusCopied()">
                نسخ وضع الختمة الحالي مع الأسماء
            </button>


            <button mat-button [cdkCopyToClipboard]="inviteMsg" (cdkCopyToClipboardCopied)="inviteMsgCopied()"
                class=" block">
                نسخ رابط المجموعة ودعوة الانضمام
            </button>

        </div>

        <div *ngIf="nativeApi.isAvailable">


            <button *ngIf="nativeApi.isAvailable" mat-raised-button class="block large" (click)="shareStatusMsg()">
                مشاركة وضع الختمة الحالي مع الأسماء
            </button>

            <button mat-button class=" block" (click)="shareInviteMsg()">
                مشاركة رابط المجموعة ودعوة الانضمام
            </button>

        </div>







    </section>


    <div class="space"></div>



    <div class="center-center names-toggle-container">
        <mat-slide-toggle [color]="color" [(ngModel)]="showNames">
            إظاهر قائمة الأسماء
        </mat-slide-toggle>
    </div>

    <div class="space"></div>



    <section class="juz-list-section" *ngIf="showNames">

        <app-juz-list [ajza]="group.ajza" [myJuzIndex]="myJuzIndex" [allowEdit]="isAdmin"
            (onJuzSelection)="juzSelected($event)" (onEdited)="juzOwnerEdited($event)">
        </app-juz-list>

    </section>


    <section class="action-panel mat-elevation-z16">

        <div>

            <section class="my-juz-actions" *ngIf="myJuzIndex != null" fxLayout="row wrap" fxLayoutGap="0px grid">

                <div fxFlex="25%" class="center-center">
                    <a target="_blank" [href]="getMyJuzReadUrl()">
                        <mat-icon class="quran-explorer-btn" [matBadge]="myJuzIndex + 1" matBadgeSize="large"
                            matBadgePosition="below ">
                            auto_stories</mat-icon>
                    </a>
                </div>

                <div fxFlex="50%" class="center-center">
                    <button mat-raised-button color="accent" class="block large action-btn" (click)="juzDone()"
                        [disabled]="myJuzIndex == null">
                        أتممت قراءة جزء {{myJuzIndex + 1}}</button>
                </div>

                <div fxFlex="25%" class="center-center">
                    <button class="giveup-btn" mat-flat-button (click)="juzGiveup()">تنازل عن الجزء</button>
                </div>

            </section>


            <div *ngIf="myJuzIndex == null" style="padding:16px" class="center-center">يرجى اختيار جزء</div>

        </div>
    </section>



    <div class="spacer"></div>


</div>