<div *ngIf="group">



    <section class="khitma-done" *ngIf="group.isDone() > 0">

        <app-khitma-done-celebration></app-khitma-done-celebration>


        <button *ngIf="isAdmin" (click)="startNewKhitmah()" mat-raised-button color="accent"
            class="block app-btn-primary large new-khitma-btn">بدء
            ختمة
            جديدة للمجموعة</button>

    </section>

    <section class="center-center view-mode">

        <mat-button-toggle-group #viewMode="matButtonToggleGroup" value="progress">
            <mat-button-toggle value="progress">
                <label class="center-center">
                    <mat-icon>check_circle_outline</mat-icon> <span>تقدّم الختمة</span>
                </label>
            </mat-button-toggle>
            <mat-button-toggle value="namesList">
                <label class="center-center">
                    <mat-icon>format_list_numbered_rtl</mat-icon> <span> قائمة الأسماء</span>
                </label>
            </mat-button-toggle>
        </mat-button-toggle-group>
    </section>

    <app-celebration *ngIf="showCelebration" class="celebration-container"
        style="position: fixed; top: 0; left: 0; right: 0; z-index: 10000; bottom: 0;">
    </app-celebration>





    <app-khitma-info [group]="group" [isExpanded]="false"></app-khitma-info>


    <!-- 
    <section class="khitma-info">


        <label>
            {{group.title}}
        </label>

        <span>
            <mat-icon (click)="isGroupInfoExpanded = !isGroupInfoExpanded;">
                {{isGroupInfoExpanded? "expand_less" : "expand_more"}}

            </mat-icon>
        </span>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    {{group.title}}
                </mat-panel-title>

            </mat-expansion-panel-header>

            <mat-panel-description>
                {{group.description}}

            </mat-panel-description>

            <footer>
                منشئ الختمة: {{group.author}}
            </footer>


        </mat-expansion-panel>



    </section> -->






    <section class="juz-grid-section" *ngIf="viewMode.value == 'progress'">

        <app-juz-grid class="app-juz-grid1" [ajza]="group.ajza" [myJuzIndex]="myJuzIndex"
            (onJuzSelection)="juzSelected($event)">
        </app-juz-grid>
    </section>

    <section class="juz-list-section" *ngIf="viewMode.value == 'namesList'">
        <!-- <header>أجزاء الختمة</header> -->

        <app-juz-list [ajza]="group.ajza" [myJuzIndex]="myJuzIndex" (onJuzSelection)="juzSelected($event)">
        </app-juz-list>

    </section>






    <section class="action-panel mat-elevation-z16">

        <section *ngIf="isAdmin" class="admin-section center-center">
            <mat-icon style="margin-left: 8px;">verified</mat-icon>

            <span> لديك صلاحيّات مسؤول في هذه المجموعة </span>
        </section>


        <div>

            <div class="my-juz-actions" *ngIf="myJuzIndex != null">
                <div class="current-juz"><span>{{myJuzIndex + 1}}</span> </div>


                <!-- جزؤك الحالي:  -->
                <button mat-raised-button color="accent" class="done-btn app-btn-primary" (click)="juzDone()"
                    [disabled]="myJuzIndex == null">
                    أتممت قراءة جزئي</button>


                <button class="giveup-btn" mat-flat-button (click)="juzGiveup()">تنازل عن الجزء</button>

            </div>


            <div *ngIf="myJuzIndex == null" style="padding:16px" class="center-center">يرجى اختيار جزء</div>

        </div>
    </section>







    <div class="spacer"></div>
    <!-- 

    <span class="center-center" style="opacity: 0.25; padding: 20px;">Admin: {{isAdmin}}</span>
    <div class="spacer"></div> -->

</div>