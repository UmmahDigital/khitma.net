<div *ngIf="group">

    <section class="khitma-done" *ngIf="group.isDone() > 0">

        <app-khitma-done-celebration></app-khitma-done-celebration>


        <button *ngIf="isAdmin" (click)="startNewKhitmah()" mat-raised-button color="accent"
            class="block app-btn-primary large new-khitma-btn">بدء
            ختمة
            جديدة للمجموعة</button>

    </section>

    <section class="center-center view-mode">

        <mat-button-toggle-group #viewMode="matButtonToggleGroup" value="progress">
            <mat-button-toggle value="progress">
                <label class="center-center">
                    <mat-icon>check_circle_outline</mat-icon> <span>تقدّم الختمة</span>
                </label>
            </mat-button-toggle>
            <mat-button-toggle value="namesList">
                <label class="center-center">
                    <mat-icon>format_list_numbered_rtl</mat-icon> <span> قائمة الأسماء</span>
                </label>
            </mat-button-toggle>
        </mat-button-toggle-group>
    </section>

    <app-celebration *ngIf="showCelebration" class="celebration-container"
        style="position: fixed; top: 0; left: 0; right: 0; z-index: 10000; bottom: 0;">
    </app-celebration>





    <app-khitma-info [group]="group" [isExpanded]="false"></app-khitma-info>




    <section class="juz-grid-section" *ngIf="viewMode.value == 'progress'">

        <app-juz-grid class="app-juz-grid1" [ajza]="group.ajza" [myJuzIndex]="myJuzIndex"
            (onJuzSelection)="juzSelected($event)">
        </app-juz-grid>
    </section>

    <section class="juz-list-section" *ngIf="viewMode.value == 'namesList'">

        <button *ngIf="isAdmin" target="_blank" mat-raised-button class="block app-btn-primary"
            [cdkCopyToClipboard]="getKhitmaStatusMsg()" class="copy-group-status-msg-btn block">
            نسخ وضع الختمة كرسالة
        </button>



        <app-juz-list [ajza]="group.ajza" [myJuzIndex]="myJuzIndex" (onJuzSelection)="juzSelected($event)">
        </app-juz-list>

    </section>



    <section class="action-panel mat-elevation-z16">

        <section *ngIf="isAdmin" class="admin-section center-center">
            <mat-icon style="margin-left: 8px;">verified</mat-icon>

            <span> لديك صلاحيّات مسؤول في هذه المجموعة </span>
        </section>


        <div>

            <section class="my-juz-actions" *ngIf="myJuzIndex != null" fxLayout="row wrap" fxLayoutGap="12px grid">

                <div fxFlex="25%" class="center-center">
                    <a target="_blank" [href]="getMyJuzReadUrl()">
                        <mat-icon class="quran-explorer-btn" [matBadge]="myJuzIndex + 1" matBadgeSize="large"
                            matBadgePosition="below before">
                            auto_stories</mat-icon>
                    </a>
                </div>

                <div fxFlex="50%" class="center-center">
                    <button mat-raised-button color="accent" class="done-btn app-btn-primary" (click)="juzDone()"
                        [disabled]="myJuzIndex == null">
                        أتممت قراءة جزئي</button>
                </div>

                <div fxFlex="25%" class="center-center">
                    <button class="giveup-btn" mat-flat-button (click)="juzGiveup()">تنازل عن الجزء</button>
                </div>

            </section>


            <div *ngIf="myJuzIndex == null" style="padding:16px" class="center-center">يرجى اختيار جزء</div>

        </div>
    </section>



    <div class="spacer"></div>


</div>